const fixIosScroll=function(option){this.element=option.element,this.firstChild=this.element.firstElementChild,this.lastTime=0,this.incremental=0,this.direction=1,this.lastScrollY=0,this.scrollYDistance=1,this.inAnimation=!1,this.threshold=option.threshold?option.threshold:0,this._atTheTop=option.atTheTop&&"function"===option.atTheTop,this._atTheBottom=option.atTheBottom&&"function"===option.atTheBottom,this._loadFn=option.loadFn&&"function"===option.loadFn,this._init(option)};fixIosScroll.prototype={_init:function(){this.ScrollBackFn(),this.element.addEventListener("scroll",e=>{this.bindScrollFn(e),e.preventDefault(),e.stopPropagation()},!1)},bindScrollFn(e){let nowScrollY=e.target.scrollTop;nowScrollY>this.lastScrollY?this.direction=1:this.direction=-1,this.lastScrollY=nowScrollY,this.ScrollBackFn()},ScrollToTarget(){if(this.incremental>this.scrollYDistance)return this.inAnimation=!1,void(this.incremental=0);this.element.scrollTop+=this.direction*this.incremental++,setTimeout(()=>{this.ScrollToTarget()},30)},ScrollBackFn(){if(this.firstChild.offsetHeight<this.element.offsetHeight)return;let _top=this.element.scrollTop;this.firstChild.offsetHeight-(this.element.offsetHeight+_top)<=this.threshold&&this.threshold>0&&this._loadFn&&this._loadFn(),0!=_top&&_top!=this.firstChild.offsetHeight-this.element.offsetHeight||this.inAnimation||(0==_top&&this._atTheTop&&this._atTheTop(),_top==this.firstChild.offsetHeight-this.element.offsetHeight&&this._atTheBottom&&this._atTheBottom(),this.inAnimation=!0,this.incremental=0,this.ScrollToTarget())}};